[TOC]

### 一

1. D
2. A
3. D
4. D（A 是错的，因为电子邮件信箱是邮件服务器硬盘上的一块区域 D 是对的，因为逐跳转发意思是每到一个路由才知道下一个地方是啥，而两个邮件服务器之间的直连意味着不通过中间邮件服务器转发
5. C
6. C（A 每台主机都需要域名x IP就够了
7. A

关于AD  UDP报文的最大长度为512字节，而TCP则允许报文长度超过512字节。当DNS查询超过512字节时，协议的TC标志出现删除标志，这时则使用TCP发送。通常传统的UDP报文一般不会大于512字节。

8. B（运输层具有复用和分用功能）
9. C（如果前面有序号<90的未确认）
10. D？（从逻辑理解是进程与进程双向通信，从实现理解是连接了进程与网络协议栈）套接字提供的通信服务是进程到进程

### 二

1. 如图（略
2. 题目：为什么需要这些要素 p151 表3-1

差错编码：UDP首先提供了检验和，因为不能保证源和目的之间的所有链路都提供差错检验；并且当报文段存储在某台路由器的内存时，也可能引入比特差错。

确认：接收方用于告诉发送方一个分组或一组分组已被正确地接收到了。

重传：对数据出问题的一种解决办法

定时器：用于恢复数据或确认分组的丢失

分组序号：用于为从发送方流向接收方的数据分组按顺序编号。所接收分组的序号间的空隙可使接收方检测出丢失的分组。具有相同序号的分组可接收方检测出一个分组的冗余副本

3. 

（1）不同：电路交换的核心是预留了资源，分组交换却不会预留资源；电路交换需要创建端到端电路，实现较为复杂，分组交换按需分配链路有可能会需要几跳才能到达目的地。

（2）分组交换相比电路交换显然有许多好处。分组交换更简单、实现成本低，不需要“创建端到端电路”的复杂实现；分组交换也更有效，因为链路传输能力将根据需要被共享，不会有电路交换遇到的“静默期”的浪费。

4. 

| 报文段 | SYN  | ACK flag | Seq  | Ack  |
| ------ | ---- | -------- | ---- | ---- |
| 1      | 1    | 0        | 129  | /    |
| 2      | 1    | 1        | 38   | 130  |
| 3      | 0    | 1        | 130  | 39   |

5.  

【考察多路复用和多路转发？有点不知道如何措辞。本题出处p129

不正确。

web 服务器可以在 80 端口同时为大量客户提供服务，其实体现的是运输层提供的多路复用和多路转发的功能和socket套接字相关。

当客户向 Web 服务器发送报文段时，所有报文段目的端口都为80，但该服务器可以根据源 IP 地址和源端口号来区分来自不同客户的报文段。

每个进程都有自己的连接套接字，通过这些套接字可以收到HTTP请求和发送HTTP响应。

6. 

确认已收到的报文段：回复的ACK的seq为已经收到的最后一位数据，与期望一致即为对方成功收到

检测丢失的报文段：如果对方回应的ACK内的seq小于我期待的，应该重传要求的序号为seq的分组

调整超时定时器的设置：如果超时还未收到确认报文，超时间隔设为先前值的两倍；EstimatedRTT根据每一个新的报文段的SampleRTT变化，SampleRTT是从某报文段被发出到对该报文段的确认被收到之间的时间量。

流量控制：*

拥塞控制：*

### 三

1. 

总共需要请求1个网页，再根据网页请求n个图片。

忽略发送时间。

1）非持久HTTP每次请求都要建立TCP连接，耗时2个RTT。总共需要2(n+1)RTT

2）非流水线持久HTTP第一次耗时2RTT请求到了网页，后面只需nRTT依次请求n个图片，总共需要(n+2)RTT

3）流水线持久HTTP，第一次耗时2RTT取到了网页，即可知道如何请求n图片，通过流水线只需1RTT，总共需要3RTT。

2. 【边界如何取：直接[ , ]

10变5不是10变8，是课本的不同导致的，不影响大局。

（1）8 因为从到达8开始，进入拥塞避免状态，线性增长；

（2）1~4，9~11

（3）4~6，7~8，11~12

（4）第6轮，三个冗余ACK；第8轮，超时

3.  

（1）50000比特/10Mbps = 5 ms

如果采用停-等协议，5ms/(250ms*2+5ms) * 100% = 1%

（2）最大利用率，且忽略确认分组的发送时间，50/505

（3）发送窗口为 101（根据2的计算），序号至少需要 $\lceil log_2 101 \rceil$ = 7 位

【Go back N 中 窗口大小和序号空间大小有像SR那样的限制吗？多1

